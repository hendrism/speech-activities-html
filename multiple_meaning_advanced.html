<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple Meaning Words - Advanced</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        h1 {
            color: #667eea;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
        }

        .instructions {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .instructions p {
            color: #555;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .word-card {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .word-header {
            font-size: 1.8rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .meaning-section {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .meaning-section h3 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .definition-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            margin-bottom: 10px;
        }

        .definition-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .definition-input.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .definition-input.show-hint {
            border-color: #ff9800;
            background: #fff3e0;
        }

        .help-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .help-btn {
            border: 2px solid rgba(37, 99, 235, 0.3);
            background: white;
            border-radius: 10px;
            padding: 8px 14px;
            font-weight: 600;
            cursor: pointer;
            color: #667eea;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
        }

        .help-btn:hover {
            background: rgba(37, 99, 235, 0.12);
            border-color: #667eea;
        }

        .help-btn.active {
            background: rgba(37, 99, 235, 0.15);
            border-color: #667eea;
            color: #667eea;
        }

        .help-icon {
            font-size: 14px;
        }

        .help-content {
            margin-top: 12px;
            display: grid;
            gap: 10px;
        }

        .help-item {
            padding: 12px;
            border-radius: 12px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.25);
            display: none;
            font-size: 0.95rem;
            line-height: 1.5;
            animation: fadeIn 0.3s ease;
        }

        .help-item.show {
            display: block;
        }

        .help-item h4 {
            margin: 0 0 8px;
            color: #667eea;
            font-size: 0.95rem;
            font-weight: 700;
        }

        .help-item p {
            margin: 0;
            color: #333;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .multiple-choice {
            display: grid;
            gap: 10px;
            margin-top: 10px;
        }

        .choice-btn {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-size: 0.95rem;
        }

        .choice-btn:hover {
            background: #f0f4ff;
            border-color: #667eea;
        }

        .choice-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .choice-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .choice-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .sentence-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
            display: block;
        }

        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            min-height: 80px;
            resize: vertical;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .check-button {
            background: #4caf50;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.2s ease;
        }

        .check-button:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .check-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #4caf50;
        }

        .feedback.partial {
            background: #fff3e0;
            color: #e65100;
            border: 2px solid #ff9800;
        }

        .feedback.incorrect {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #f44336;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .nav-button:hover:not(:disabled) {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .nav-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .completion-message {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .completion-message.show {
            display: block;
        }

        .completion-message h2 {
            color: #4caf50;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .word-header {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî§ Multiple Meaning Words - Advanced</h1>
            <p class="subtitle">Define both meanings and use each in a sentence</p>
        </header>

        <div class="instructions">
            <p><strong>Instructions:</strong> For each word, provide TWO different meanings. Use the hint buttons if you need help!</p>
            <p><strong>Hint 1:</strong> Shows a clue about the meaning</p>
            <p><strong>Hint 2:</strong> Shows multiple choice options (choose the best answer)</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0 / 15</div>
        </div>

        <div id="wordContainer"></div>

        <div class="completion-message" id="completionMessage">
            <h2>üéâ Excellent Work!</h2>
            <p>You've completed all 15 multiple meaning words!</p>
            <button class="nav-button" onclick="resetActivity()" style="margin-top: 20px;">Start Over</button>
        </div>
    </div>

    <script>
        const words = [
            {
                word: "bat",
                meanings: [
                    {
                        definition: "a flying mammal that is active at night",
                        clue: "Think about an animal that flies",
                        choices: ["a flying mammal that is active at night", "a type of bird", "a small insect", "a nocturnal rodent"]
                    },
                    {
                        definition: "a piece of equipment used to hit a ball",
                        clue: "Think about sports like baseball",
                        choices: ["a piece of equipment used to hit a ball", "a type of glove", "sports shoes", "a helmet"]
                    }
                ]
            },
            {
                word: "park",
                meanings: [
                    {
                        definition: "an outdoor area with grass and playground equipment",
                        clue: "A place where kids play outside",
                        choices: ["an outdoor area with grass and playground equipment", "a big yard", "a forest", "a garden"]
                    },
                    {
                        definition: "to stop and leave a vehicle in a place",
                        clue: "What you do with your car when you arrive somewhere",
                        choices: ["to stop and leave a vehicle in a place", "to drive around", "to start a car", "to wash a vehicle"]
                    }
                ]
            },
            {
                word: "light",
                meanings: [
                    {
                        definition: "not heavy",
                        clue: "The opposite of heavy",
                        choices: ["not heavy", "soft", "small", "thin"]
                    },
                    {
                        definition: "brightness that lets you see",
                        clue: "What comes from the sun or a lamp",
                        choices: ["brightness that lets you see", "a color", "electricity", "daytime"]
                    }
                ]
            },
            {
                word: "watch",
                meanings: [
                    {
                        definition: "a small clock worn on your wrist",
                        clue: "Something you wear to tell time",
                        choices: ["a small clock worn on your wrist", "a bracelet", "a ring", "a timer"]
                    },
                    {
                        definition: "to look at something carefully",
                        clue: "What you do when you pay attention to something",
                        choices: ["to look at something carefully", "to listen", "to ignore", "to hear"]
                    }
                ]
            },
            {
                word: "wave",
                meanings: [
                    {
                        definition: "moving water in the ocean",
                        clue: "What surfers ride on",
                        choices: ["moving water in the ocean", "wind on water", "a splash", "a current"]
                    },
                    {
                        definition: "to move your hand back and forth as a greeting",
                        clue: "A way to say hello or goodbye with your hand",
                        choices: ["to move your hand back and forth as a greeting", "to shake hands", "to point", "to clap"]
                    }
                ]
            },
            {
                word: "bark",
                meanings: [
                    {
                        definition: "the outer covering of a tree",
                        clue: "The hard outside layer of a tree trunk",
                        choices: ["the outer covering of a tree", "tree leaves", "wood", "tree roots"]
                    },
                    {
                        definition: "the sound a dog makes",
                        clue: "The noise that comes from a dog",
                        choices: ["the sound a dog makes", "a loud yell", "a growl", "a meow"]
                    }
                ]
            },
            {
                word: "pitcher",
                meanings: [
                    {
                        definition: "the baseball player who throws the ball",
                        clue: "The person on the mound in baseball",
                        choices: ["the baseball player who throws the ball", "someone who catches", "a coach", "the batter"]
                    },
                    {
                        definition: "a container used to pour liquids",
                        clue: "What you might pour juice or lemonade from",
                        choices: ["a container used to pour liquids", "a cup", "a bottle", "a bowl"]
                    }
                ]
            },
            {
                word: "bank",
                meanings: [
                    {
                        definition: "a place where people keep their money",
                        clue: "Where you go to deposit or withdraw money",
                        choices: ["a place where people keep their money", "a store", "a vault", "an ATM"]
                    },
                    {
                        definition: "the land along the side of a river or stream",
                        clue: "The edge or shore of a river",
                        choices: ["the land along the side of a river or stream", "a beach", "a hill", "a valley"]
                    }
                ]
            },
            {
                word: "spring",
                meanings: [
                    {
                        definition: "the season between winter and summer",
                        clue: "The season when flowers bloom",
                        choices: ["the season between winter and summer", "fall", "a warm month", "a holiday"]
                    },
                    {
                        definition: "a coiled piece of metal that bounces back",
                        clue: "What's inside a mattress or trampoline",
                        choices: ["a coiled piece of metal that bounces back", "a rubber band", "a rope", "a wire"]
                    }
                ]
            },
            {
                word: "ring",
                meanings: [
                    {
                        definition: "a circular piece of jewelry worn on a finger",
                        clue: "What people wear when they get married",
                        choices: ["a circular piece of jewelry worn on a finger", "a necklace", "a bracelet", "earrings"]
                    },
                    {
                        definition: "the sound a bell or phone makes",
                        clue: "What you hear when someone calls you",
                        choices: ["the sound a bell or phone makes", "a buzz", "a beep", "a chime"]
                    }
                ]
            },
            {
                word: "present",
                meanings: [
                    {
                        definition: "a gift given to someone",
                        clue: "Something wrapped up for a birthday",
                        choices: ["a gift given to someone", "a card", "a party", "a reward"]
                    },
                    {
                        definition: "being here now; not absent",
                        clue: "When you're at school, not absent",
                        choices: ["being here now; not absent", "the future", "the past", "late"]
                    }
                ]
            },
            {
                word: "left",
                meanings: [
                    {
                        definition: "the opposite direction of right",
                        clue: "One of two directions; not right",
                        choices: ["the opposite direction of right", "up", "down", "forward"]
                    },
                    {
                        definition: "past tense of leave; went away from",
                        clue: "What you did when you departed yesterday",
                        choices: ["past tense of leave; went away from", "stayed", "arrived", "came"]
                    }
                ]
            },
            {
                word: "match",
                meanings: [
                    {
                        definition: "a small stick that makes fire when struck",
                        clue: "What you use to light a candle",
                        choices: ["a small stick that makes fire when struck", "a lighter", "a candle", "a flashlight"]
                    },
                    {
                        definition: "a sports competition or game",
                        clue: "When two teams play against each other",
                        choices: ["a sports competition or game", "a practice", "a tournament", "a championship"]
                    }
                ]
            },
            {
                word: "letter",
                meanings: [
                    {
                        definition: "a written message sent to someone",
                        clue: "What you send through the mail",
                        choices: ["a written message sent to someone", "an email", "a package", "a postcard"]
                    },
                    {
                        definition: "a symbol of the alphabet like A, B, or C",
                        clue: "One character in the alphabet",
                        choices: ["a symbol of the alphabet like A, B, or C", "a word", "a number", "a punctuation mark"]
                    }
                ]
            },
            {
                word: "scale",
                meanings: [
                    {
                        definition: "a tool used to measure weight",
                        clue: "What you step on to see how much you weigh",
                        choices: ["a tool used to measure weight", "a ruler", "a thermometer", "a clock"]
                    },
                    {
                        definition: "the small flat plates covering a fish or reptile",
                        clue: "The protective covering on a fish's body",
                        choices: ["the small flat plates covering a fish or reptile", "fins", "gills", "feathers"]
                    }
                ]
            }
        ];

        let currentIndex = 0;
        let completedWords = 0;

        function renderWord(index) {
            const word = words[index];
            const container = document.getElementById('wordContainer');

            container.innerHTML = `
                <div class="word-card">
                    <div class="word-header">Word ${index + 1} of ${words.length}: "${word.word}"</div>

                    ${word.meanings.map((meaning, idx) => `
                        <div class="meaning-section">
                            <h3>Meaning ${idx + 1}</h3>

                            <input
                                type="text"
                                class="definition-input"
                                id="definition${idx}"
                                placeholder="Type the definition here..."
                            />

                            <div class="help-controls">
                                <button class="help-btn" data-meaning="${idx}" data-hint="clue">
                                    <span class="help-icon">üí°</span> Hint 1: Clue
                                </button>
                                <button class="help-btn" data-meaning="${idx}" data-hint="choices">
                                    <span class="help-icon">üéØ</span> Hint 2: Multiple Choice
                                </button>
                            </div>

                            <div class="help-content" id="help-content-${idx}">
                                <div class="help-item" id="clue-${idx}">
                                    <h4>üí° Clue</h4>
                                    <p>${meaning.clue}</p>
                                </div>
                                <div class="help-item" id="choices-${idx}">
                                    <h4>üéØ Choose the best definition:</h4>
                                    <div class="multiple-choice" id="mc-${idx}"></div>
                                </div>
                            </div>

                            <label class="sentence-label">Write a sentence using this meaning:</label>
                            <textarea
                                id="sentence${idx}"
                                placeholder="Write your sentence here..."
                            ></textarea>
                        </div>
                    `).join('')}

                    <button class="check-button" onclick="checkAnswers()">Check My Work</button>

                    <div class="feedback" id="feedback"></div>

                    <div class="navigation">
                        <button class="nav-button" onclick="previousWord()" ${index === 0 ? 'disabled' : ''}>‚Üê Previous</button>
                        <button class="nav-button" id="nextButton" onclick="nextWord()" disabled>Next ‚Üí</button>
                    </div>
                </div>
            `;

            setupHints(word);
        }

        function setupHints(word) {
            // Set up hint button listeners
            document.querySelectorAll('.help-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const meaningIdx = this.dataset.meaning;
                    const hintType = this.dataset.hint;

                    const hintElement = document.getElementById(`${hintType}-${meaningIdx}`);
                    const isActive = this.classList.contains('active');

                    if (isActive) {
                        this.classList.remove('active');
                        hintElement.classList.remove('show');
                    } else {
                        this.classList.add('active');
                        hintElement.classList.add('show');

                        // If showing multiple choice, generate the choices
                        if (hintType === 'choices') {
                            generateMultipleChoice(word, meaningIdx);
                        }
                    }
                });
            });
        }

        function generateMultipleChoice(word, meaningIdx) {
            const mcContainer = document.getElementById(`mc-${meaningIdx}`);
            if (mcContainer.children.length > 0) return; // Already generated

            const meaning = word.meanings[meaningIdx];
            const choices = [...meaning.choices];

            // Shuffle choices
            for (let i = choices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [choices[i], choices[j]] = [choices[j], choices[i]];
            }

            mcContainer.innerHTML = choices.map(choice => `
                <button class="choice-btn" onclick="selectChoice(${meaningIdx}, '${choice.replace(/'/g, "\\'")}')">
                    ${choice}
                </button>
            `).join('');
        }

        function selectChoice(meaningIdx, choice) {
            const input = document.getElementById(`definition${meaningIdx}`);
            input.value = choice;
            input.classList.add('show-hint');

            // Update button states
            const buttons = document.querySelectorAll(`#mc-${meaningIdx} .choice-btn`);
            buttons.forEach(btn => {
                btn.classList.remove('selected');
                if (btn.textContent.trim() === choice) {
                    btn.classList.add('selected');
                }
            });
        }

        function checkAnswers() {
            const word = words[currentIndex];
            const feedback = document.getElementById('feedback');
            const nextButton = document.getElementById('nextButton');

            const definition0 = document.getElementById('definition0').value.trim().toLowerCase();
            const definition1 = document.getElementById('definition1').value.trim().toLowerCase();
            const sentence0 = document.getElementById('sentence0').value.trim();
            const sentence1 = document.getElementById('sentence1').value.trim();

            // Check if all fields are filled
            if (!definition0 || !definition1 || !sentence0 || !sentence1) {
                feedback.className = 'feedback incorrect show';
                feedback.textContent = '‚ö†Ô∏è Please complete all definitions and sentences before checking.';
                return;
            }

            // Get both correct definitions
            const correctDef0 = word.meanings[0].definition.toLowerCase();
            const correctDef1 = word.meanings[1].definition.toLowerCase();

            // Check if both definitions are present (in either order)
            const hasBothCorrect = (
                (definition0 === correctDef0 && definition1 === correctDef1) ||
                (definition0 === correctDef1 && definition1 === correctDef0)
            );

            const hasFirstCorrect = (definition0 === correctDef0 || definition0 === correctDef1);
            const hasSecondCorrect = (definition1 === correctDef0 || definition1 === correctDef1);

            // Mark correct inputs
            document.getElementById('definition0').classList.remove('correct');
            document.getElementById('definition1').classList.remove('correct');

            if (hasFirstCorrect) {
                document.getElementById('definition0').classList.add('correct');
            }
            if (hasSecondCorrect) {
                document.getElementById('definition1').classList.add('correct');
            }

            if (hasBothCorrect) {
                feedback.className = 'feedback correct show';
                feedback.textContent = '‚úì Excellent! Both meanings are correct! Great job with your sentences too!';
                nextButton.disabled = false;

                if (!words[currentIndex].completed) {
                    words[currentIndex].completed = true;
                    completedWords++;
                    updateProgress();
                }
            } else if (hasFirstCorrect || hasSecondCorrect) {
                feedback.className = 'feedback partial show';
                feedback.textContent = '‚ö†Ô∏è You got one meaning correct! Check the other definition and try again.';
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.textContent = '‚úó Not quite right. Try using the hint buttons for help!';
            }
        }

        function nextWord() {
            if (currentIndex < words.length - 1) {
                currentIndex++;
                renderWord(currentIndex);
                updateProgress();
            } else {
                showCompletion();
            }
        }

        function previousWord() {
            if (currentIndex > 0) {
                currentIndex--;
                renderWord(currentIndex);
            }
        }

        function updateProgress() {
            const progressBar = document.getElementById('progressBar');
            const percentage = (completedWords / words.length) * 100;
            progressBar.style.width = percentage + '%';
            progressBar.textContent = `${completedWords} / ${words.length}`;
        }

        function showCompletion() {
            document.getElementById('wordContainer').style.display = 'none';
            document.getElementById('completionMessage').classList.add('show');
        }

        function resetActivity() {
            currentIndex = 0;
            completedWords = 0;
            words.forEach(word => word.completed = false);
            document.getElementById('wordContainer').style.display = 'block';
            document.getElementById('completionMessage').classList.remove('show');
            renderWord(0);
            updateProgress();
        }

        // Initialize
        renderWord(0);
    </script>
</body>
</html>
